System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0},c.exports}),System.registerDynamic("app/shared/user/user.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(){}return a.prototype.isValidEmail=function(){var a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(this.email)},a}();return b.User=d,c.exports}),System.registerDynamic("app/shared/user/user.service.js",["@angular/core","@angular/http","../config","rxjs/Rx","rxjs/add/operator/do","rxjs/add/operator/map"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/http"),h=a("../config"),i=a("rxjs/Rx");a("rxjs/add/operator/do"),a("rxjs/add/operator/map");var j=function(){function a(a){this._http=a}return a.prototype.register=function(a){var b=new g.Headers;return b.append("Content-Type","application/json"),this._http.post(h.Config.apiUrl+"Users",JSON.stringify({Username:a.email,Email:a.email,Password:a.password}),{headers:b})["catch"](this.handleErrors)},a.prototype.login=function(a){var b=new g.Headers;return b.append("Content-Type","application/json"),this._http.post(h.Config.apiUrl+"oauth/token",JSON.stringify({username:a.email,password:a.password,grant_type:"password"}),{headers:b}).map(function(a){return a.json()})["do"](function(a){h.Config.token=a.Result.access_token})["catch"](this.handleErrors)},a.prototype.resetPassword=function(a){var b=new g.Headers;return b.append("Content-Type","application/json"),this._http.post(h.Config.apiUrl+"Users/resetpassword",JSON.stringify({Email:a}),{headers:b})["catch"](this.handleErrors)},a.prototype.handleErrors=function(a){return console.log(JSON.stringify(a.json())),i.Observable["throw"](a)},a=d([f.Injectable(),e("design:paramtypes",[g.Http])],a)}();return b.UserService=j,c.exports}),System.registerDynamic("app/pages/login/login.component.js",["@angular/core","@angular/router-deprecated","../../shared/user/user","../../shared/user/user.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router-deprecated"),h=a("../../shared/user/user"),i=a("../../shared/user/user.service"),j=function(){function a(a,b){this._userService=a,this._router=b,this.isLoggingIn=!0,this.isAuthenticating=!1,this.user=new h.User,this.user.email="ngconf@telerik.com",this.user.password="password"}return a.prototype.submit=function(){return this.user.isValidEmail()?(this.isAuthenticating=!0,void(this.isLoggingIn?this.login():this.signUp())):void alert("Enter a valid email address")},a.prototype.login=function(){var a=this;this._userService.login(this.user).subscribe(function(){a.isAuthenticating=!1,a._router.navigate(["List"])},function(){alert("Unfortunately we were not able to log you in to the system"),a.isAuthenticating=!1})},a.prototype.signUp=function(){var a=this;this._userService.register(this.user).subscribe(function(){alert("Your account was successfully created."),a.isAuthenticating=!1,a.toggleDisplay()},function(){alert("Unfortunately we were unable to create your account."),a.isAuthenticating=!1})},a.prototype.toggleDisplay=function(){this.isLoggingIn=!this.isLoggingIn},a=d([f.Component({selector:"login",templateUrl:"./app/pages/login/login.html",styleUrls:["./app/pages/login/login.css"],providers:[i.UserService]}),e("design:paramtypes",[i.UserService,g.Router])],a)}();return b.LoginComponent=j,c.exports}),System.registerDynamic("app/components/activity-indicator.component.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){this.isLoading=!1,this.message="Loading"}return d([f.Input("isLoading"),e("design:type",Object)],a.prototype,"isLoading",void 0),d([f.Input("message"),e("design:type",Object)],a.prototype,"message",void 0),a=d([f.Component({selector:"activity-indicator",inputs:["isLoading"],template:'\n    <div [class.hidden]="!isLoading">\n      <img src="./app/assets/images/loading.gif">\n      <span>{{ message }}</span>\n    </div>\n  ',styles:["\n    div {\n      position: fixed;\n      bottom: 0;\n      right: 0;\n      padding: 0.5em;\n      background: white;\n      border: solid 1px #c8cccf;\n      border-width: 1px 0 0 1px;\n      display: flex;\n    }\n    img {\n      height: 50px;\n    }\n    span {\n      line-height: 50px;\n    }\n  "]}),e("design:paramtypes",[])],a)}();return b.ActivityIndicator=g,c.exports}),System.registerDynamic("app/shared/config.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(){}return Object.defineProperty(a,"token",{get:function(){return localStorage.getItem("token")},set:function(a){localStorage.setItem("token",a)},enumerable:!0,configurable:!0}),a.hasActiveToken=function(){return!!localStorage.getItem("token")},a.apiUrl="https://api.everlive.com/v1/GWfRtXi1Lwt4jcqK/",a}();return b.Config=d,c.exports}),System.registerDynamic("app/shared/grocery/grocery.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(a,b,c,d){this.id=a,this.name=b,this.done=c,this.deleted=d}return a}();return b.Grocery=d,c.exports}),System.registerDynamic("app/shared/grocery/grocery-list.service.js",["@angular/core","@angular/http","../config","./grocery","rxjs/Rx","rxjs/add/operator/map"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/http"),h=a("../config"),i=a("./grocery"),j=a("rxjs/Rx");a("rxjs/add/operator/map");var k=function(){function a(a){this._http=a,this.items=new j.BehaviorSubject([]),this._allItems=[]}return a.prototype.load=function(){var a=this,b=this.getHeaders();return b.append("X-Everlive-Sort",JSON.stringify({ModifiedAt:-1})),this._http.get(h.Config.apiUrl+"Groceries",{headers:b}).map(function(a){return a.json()}).map(function(b){b.Result.forEach(function(b){a._allItems.push(new i.Grocery(b.Id,b.Name,b.Done||!1,b.Deleted||!1)),a.publishUpdates()})})["catch"](this.handleErrors)},a.prototype.add=function(a){var b=this;return this._http.post(h.Config.apiUrl+"Groceries",JSON.stringify({Name:a}),{headers:this.getHeaders()}).map(function(a){return a.json()}).map(function(c){b._allItems.unshift(new i.Grocery(c.Result.Id,a,!1,!1)),b.publishUpdates()})["catch"](this.handleErrors)},a.prototype._put=function(a,b){return this._http.put(h.Config.apiUrl+"Groceries/"+a,JSON.stringify(b),{headers:this.getHeaders()})["catch"](this.handleErrors)},a.prototype.setDeleteFlag=function(a){var b=this;return this._put(a.id,{Deleted:!0,Done:!1}).map(function(a){return a.json()}).map(function(c){a.deleted=!0,a.done=!1,b.publishUpdates()})},a.prototype.restore=function(){var a=this,b=[];this._allItems.forEach(function(a){a.deleted&&a.done&&b.push(a.id)});var c=this.getHeaders();return c.append("X-Everlive-Filter",JSON.stringify({Id:{$in:b}})),this._http.put(h.Config.apiUrl+"Groceries",JSON.stringify({Deleted:!1,Done:!1}),{headers:c}).map(function(a){return a.json()}).map(function(b){a._allItems.forEach(function(a){a.deleted&&a.done&&(a.deleted=!1,a.done=!1)}),a.publishUpdates()})["catch"](this.handleErrors)},a.prototype.toggleDoneFlag=function(a){var b=this;return this._put(a.id,{Done:!a.done}).map(function(a){return a.json()}).map(function(c){a.done=!a.done,b.publishUpdates()})},a.prototype.deleteForever=function(a){return this._http["delete"](h.Config.apiUrl+"Groceries/"+a.id,{headers:this.getHeaders()}).map(function(a){return a.json()})["catch"](this.handleErrors)},a.prototype.getHeaders=function(){var a=new g.Headers;return a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+h.Config.token),a},a.prototype.publishUpdates=function(){this.items.next(this._allItems.slice())},a.prototype.handleErrors=function(a){return console.log(a),j.Observable["throw"](a)},a=d([f.Injectable(),e("design:paramtypes",[g.Http])],a)}();return b.GroceryStore=k,c.exports}),System.registerDynamic("app/pages/list/grocery-list.component.js",["@angular/core","../../shared/grocery/grocery-list.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../../shared/grocery/grocery-list.service"),h=function(){function a(a){this._ref=a,this.value=[]}return a.prototype.transform=function(a,b){return a&&a.length&&(this.value=a.filter(function(a){return a.deleted==b}),this._ref.markForCheck()),this.value},a=d([f.Pipe({name:"itemStatus"}),e("design:paramtypes",[f.ChangeDetectorRef])],a)}();b.ItemStatusPipe=h;var i=function(){function a(a){this.store=a,this.loaded=new f.EventEmitter}return a.prototype.ngOnInit=function(){var a=this;this.store.load().subscribe(function(){return a.loaded.emit("loaded")})},a.prototype.imageSource=function(a){return a.deleted?a.done?"./app/assets/images/selected.png":"./app/assets/images/nonselected.png":a.done?"./app/assets/images/checked.png":"./app/assets/images/unchecked.png"},a.prototype.toggleDone=function(a){return a.deleted?void(a.done=!a.done):void this.store.toggleDoneFlag(a).subscribe(function(){},function(){alert("An error occurred managing your grocery list")})},a.prototype["delete"]=function(a){this.store.setDeleteFlag(a).subscribe(function(){},function(){return alert("An error occurred while deleting an item from your list.")})},d([f.Input(),e("design:type",Boolean)],a.prototype,"showDeleted",void 0),d([f.Output(),e("design:type",Object)],a.prototype,"loaded",void 0),a=d([f.Component({selector:"grocery-list",template:'\n    <ul>\n      <li *ngFor="let grocery of store.items | async | itemStatus:showDeleted">\n        <img\n          [src]="imageSource(grocery)"\n          (click)="toggleDone(grocery)">\n        <span\n          [class.done]="grocery.done && !grocery.deleted">{{ grocery.name }}</span>\n        <button\n          *ngIf="!grocery.deleted"\n          (click)="delete(grocery)">&times;</button>\n      </li>\n    </ul>\n  ',styleUrls:["./app/pages/list/grocery-list.css"],pipes:[h],changeDetection:f.ChangeDetectionStrategy.OnPush}),e("design:paramtypes",[g.GroceryStore])],a)}();return b.GroceryList=i,c.exports}),System.registerDynamic("app/pages/list/list.component.js",["@angular/core","@angular/router-deprecated","../../shared/grocery/grocery-list.service","../../shared/config","../../components/activity-indicator.component","./grocery-list.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router-deprecated"),h=a("../../shared/grocery/grocery-list.service"),i=a("../../shared/config"),j=a("../../components/activity-indicator.component"),k=a("./grocery-list.component"),l=function(){function a(a,b){this._router=a,this.store=b,this.grocery="",this.isLoading=!1,this.isShowingRecent=!1}return a.prototype.ngOnInit=function(){return i.Config.token?void(this.isLoading=!0):void this._router.navigate(["Login"])},a.prototype.hideLoadingIndicator=function(){this.isLoading=!1},a.prototype.add=function(){var a=this;return""===this.grocery.trim()?void alert("Enter a grocery item"):void this.store.add(this.grocery).subscribe(function(){a.grocery=""},function(){alert("An error occurred while adding a grocery to your list.")})},a.prototype.toggleRecent=function(){var a=this;this.isShowingRecent?this.store.restore().subscribe(function(){a.isShowingRecent=!1},function(){alert("An error occurred while adding groceries to your list.")}):this.isShowingRecent=!0},a=d([f.Component({selector:"list",directives:[j.ActivityIndicator,k.GroceryList],templateUrl:"./app/pages/list/list.html",styleUrls:["./app/pages/list/list.css"],providers:[h.GroceryStore]}),e("design:paramtypes",[g.Router,h.GroceryStore])],a)}();return b.ListComponent=l,c.exports}),System.registerDynamic("app/app.component.js",["@angular/core","@angular/http","@angular/router-deprecated","./pages/login/login.component","./pages/list/list.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/http"),h=a("@angular/router-deprecated"),i=a("./pages/login/login.component"),j=a("./pages/list/list.component"),k=function(){function a(){}return a=d([f.Component({selector:"groceries-app",template:"<router-outlet></router-outlet>",directives:[h.ROUTER_DIRECTIVES],providers:[g.HTTP_PROVIDERS,h.ROUTER_PROVIDERS]}),h.RouteConfig([{path:"/Login",name:"Login",component:i.LoginComponent,useAsDefault:!0},{path:"/List",name:"List",component:j.ListComponent}]),e("design:paramtypes",[])],a)}();return b.GroceriesAppComponent=k,c.exports}),System.registerDynamic("app/index.js",["./environment","./app.component"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}return d(a("./environment")),d(a("./app.component")),c.exports});